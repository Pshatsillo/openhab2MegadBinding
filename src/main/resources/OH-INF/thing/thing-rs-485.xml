<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="megad"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">
	<channel-group-type id="lines">
		<label>Line</label>
		<description>Channels for each line</description>
		<channels>
			<channel id="current" typeId="current"/>
			<channel id="activepower" typeId="activepower"/>
			<channel id="actnrg" typeId="actnrg"/>
			<channel id="reactnrg" typeId="reactnrg"/>
			<channel id="apparentpower" typeId="apparentpower"/>
			<channel id="reactivepower" typeId="reactivepower"/>
			<channel id="powerfactor" typeId="powerfactor"/>
			<channel id="phaseangle" typeId="phaseangle"/>
		</channels>
	</channel-group-type>
	<channel-group-type id="common">
		<label>Common</label>
		<description>Common channels</description>
		<channels>
			<channel id="voltage" typeId="voltage"/>
			<channel id="frequency" typeId="frequency"/>
			<channel id="importactnrg" typeId="importactnrg"/>
			<channel id="exportactnrg" typeId="exportactnrg"/>
			<channel id="importreactnrg" typeId="importreactnrg"/>
			<channel id="exportreactnrg" typeId="exportreactnrg"/>
			<channel id="totalsyspwrdmd" typeId="totalsyspwrdmd"/>
			<channel id="maxtotalsyspwrdmd" typeId="maxtotalsyspwrdmd"/>
			<channel id="importsyspwrdmd" typeId="importsyspwrdmd"/>
			<channel id="maximportsyspwrdmd" typeId="maximportsyspwrdmd"/>
			<channel id="exportsyspwrdmd" typeId="exportsyspwrdmd"/>
			<channel id="maxexportsyspwrdmd" typeId="maxexportsyspwrdmd"/>
			<channel id="currentdmd" typeId="currentdmd"/>
			<channel id="maxcurrentdmd" typeId="maxcurrentdmd"/>
			<channel id="totalactnrg" typeId="totalactnrg"/>
			<channel id="totalreactnrg" typeId="totalreactnrg"/>
			<channel id="opermode" typeId="opermode"/>
			<channel id="fanmode" typeId="fanmode"/>
			<channel id="mideatemperature" typeId="mideatemperature"/>
		</channels>
	</channel-group-type>
	<thing-type id="rs485">
		<supported-bridge-type-refs>
			<bridge-type-ref id="device"/>
		</supported-bridge-type-refs>
		<label>MegaD rs485 Thing</label>
		<description>Binding for Modbus/rs485 Megad feature</description>
		<channel-groups>
			<channel-group id="line1" typeId="lines"/>
			<channel-group id="line2" typeId="lines"/>
			<channel-group id="line3" typeId="lines"/>
			<channel-group id="line4" typeId="lines"/>
			<channel-group id="line5" typeId="lines"/>
			<channel-group id="line6" typeId="lines"/>
			<channel-group id="cmn" typeId="common"/>
		</channel-groups>
		<config-description>
			<parameter name="type" type="text" required="true">
				<options>
					<option value="sdm120">Eastron SDM 120 energy meter</option>
					<option value="dds238">DDS238-1 ZN energy meter</option>
					<option value="wbmap6s">WirenBoard MAP-6S</option>
					<option value="midea">Midea protocol</option>
				</options>
			</parameter>
			<parameter name="address" type="text" required="true">
				<label>Modbus address</label>
				<description>Modbus address</description>
				<default>01</default>
			</parameter>
			<parameter name="refresh" type="text" required="true">
				<label>refresh</label>
				<description>refresh interval thing</description>
				<default>30</default>
			</parameter>
		</config-description>

	</thing-type>
</thing:thing-descriptions>
